<div class="donut-chart-container">
  <h3 class="chart-title">{{ title() }}</h3>
  <div class="chart-content">
    <div class="chart-wrapper" [style.height.px]="height()">
      <canvas
        baseChart
        [data]="chartData()"
        [options]="chartOptions"
        [legend]="chartLegend"
        [type]="chartType">
      </canvas>
    </div>
    @if (data().length > 0) {
      <div class="chart-legend">
        @for (segment of data(); track segment.label) {
          <div class="legend-item">
            <span class="legend-color" [style.background-color]="segment.color || '#6B7280'"></span>
            <span class="legend-label">{{ segment.label }}</span>
            <span class="legend-value">{{ segment.value }}</span>
          </div>
        }
      </div>
    }
  </div>
</div>
